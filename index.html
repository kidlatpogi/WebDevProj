<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Room Reservation System</title>

    <!-- Fonts and Styles -->
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="main">
        <input type="checkbox" id="chk" aria-hidden="true" />

        <!-- Sign up -->
        <div class="signup">
            <form id="signupForm">
                <label for="chk" aria-hidden="true">Sign up</label>

                <div>
                    <input type="text" name="Firstname" placeholder="Firstname" required />
                    <input type="text" name="Lastname" placeholder="Lastname" required />
                </div>

                <input type="text" name="username" placeholder="Username (email)" required />
                <input type="password" name="pswd" placeholder="Password" required />
                <input type="password" name="cpswd" placeholder="Confirm Password" required />

                <button type="submit">Sign up</button>
            </form>
        </div>

        <!-- Login -->
        <div class="login">
            <form id="loginForm">
                <label for="chk" aria-hidden="true">Login</label>
                <input type="email" name="username" placeholder="Username (email)" required />
                <input type="password" name="pswd" placeholder="Password" required />
                <button type="submit">Login</button>
            </form>
        </div>
    </div>

    <script>
        // Hardcoded valid users - initial valid users
        const validCredentials = {
            "sarapmoFrancis@example.com": "123",
            "drinolokoy@pepengMatambok.com": "Louie123",
            "cigaretteAfterRex@hampaskosayoraketako.com": "Mateo",
            "kidlatBilat@angsarapnicis.com": "Kidlat",
            "kentotpakantot@example.com": "kantotEverySaturday"
        };

        // Sign Up Handler - just adds a new user to validCredentials object (no persistence)
        document.getElementById("signupForm").addEventListener("submit", function (e) {
            e.preventDefault();

            const firstName = this.Firstname.value.trim();
            const lastName = this.Lastname.value.trim();
            const username = this.username.value.trim();
            const password = this.pswd.value;
            const confirmPassword = this.cpswd.value;

            if (!firstName || !lastName || !username || !password || !confirmPassword) {
                alert("Please fill in all fields.");
                return;
            }

            if (password !== confirmPassword) {
                alert("Passwords do not match.");
                return;
            }

            if (validCredentials[username]) {
                alert("User already exists. Please log in.");
                return;
            }

            validCredentials[username] = password; // Add new user to validCredentials

            alert(`Sign up successful! Welcome, ${firstName} ${lastName} (${username})`);
            this.reset();
        });

        // Login Handler - checks username and password in validCredentials
        document.getElementById("loginForm").addEventListener("submit", function (e) {
            e.preventDefault();

            const username = this.username.value.trim();
            const password = this.pswd.value;

            if (!username || !password) {
                alert("Please fill in all login fields.");
                return;
            }

            if (validCredentials[username] && validCredentials[username] === password) {
                alert(`Login Successful! Welcome, ${username}`);
            } else {
                alert("Invalid email or password.");
            }
        });
    </script>
</body>

</html>
